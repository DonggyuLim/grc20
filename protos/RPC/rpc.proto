syntax = "proto3";

package erc20;

option go_package = "github.com/DonggyuLim/erc20/protos/RPC/rpc";

service RPC{
    //Mutate
    rpc Transfer(TransferRequest)returns(TransferResponse);
    rpc TransferFrom(TransferFromRequest)returns(TransferFromResponse);
    rpc Approve(ApproveRequest)returns(ApproveResponse);



    //Query
    rpc GetBalance(GetBalanceRequest)returns (GetBalanceResponse);
    rpc GetTokenInfo(TokenInfoRequest) returns (TokenInfoResponse);
    rpc GetAllowance(AllowanceRequest) returns (AllowanceResponse);    
}



///////////////////////////////////////////////////
///////////////////////////////////////////////////
//Mutate
message TransferRequest{
   string tokenName =1;
   string to  = 2;
   string from = 3;
   uint64 amount = 4;
}

message TransferResponse{
    bool success = 1;
    uint64 toBalance = 2;
    uint64 fromBalance = 3;
}

message ApproveRequest{
    string tokenName = 1;
    string owner = 2;
    string spender = 3;
    uint64 amount = 4;
}

message ApproveResponse{
    bool success = 1;
    uint64 allowance = 2;
}


message TransferFromRequest{
    string tokenName = 1;
    string from = 2;
    string to = 3;
    string spender = 4;
    uint64 amount = 5;
}
message TransferFromResponse{
    bool success = 1;
    uint64 toBalance = 2;
    uint64 fromBalance = 3;
}
///////////////////////////////////////////////
///////////////////////////////////////////////
//Query
message GetBalanceRequest{
    string tokenName = 1;
    string account = 2;
}

message GetBalanceResponse{
    bool success = 1;
    uint64 balance = 2;
}

message TokenInfoRequest{
    string tokenName = 1;
}

message TokenInfoResponse{
    bool success = 1;
    string tokenName = 2;
    string symbol = 3;
    uint32 decimal = 4;
    uint64 totalSupply = 5;
}


message AllowanceRequest{
    string tokenName = 1;
    string owner = 2;
    string spender = 3;
}

message AllowanceResponse{
    bool success = 1;
    uint64 allowance = 2;
}